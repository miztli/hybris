<p class=isa_info ><code>
<font color="#ffffff"></font><br />
<font color="#404040"><b>package&nbsp;</b></font><font color="#000000">com.hybris.hybris123.contentpreparation.snippets;</font><br />
<font color="#3f7f5f">/*</font><br />
<font color="#ffffff">&nbsp;</font><font color="#3f7f5f">*&nbsp;Â©&nbsp;2017&nbsp;SAP&nbsp;SE&nbsp;or&nbsp;an&nbsp;SAP&nbsp;affiliate&nbsp;company.</font><br />
<font color="#ffffff">&nbsp;</font><font color="#3f7f5f">*&nbsp;All&nbsp;rights&nbsp;reserved.</font><br />
<font color="#ffffff">&nbsp;</font><font color="#3f7f5f">*&nbsp;Please&nbsp;see&nbsp;http://www.sap.com/corporate-en/legal/copyright/index.epx&nbsp;for&nbsp;additional&nbsp;trademark&nbsp;information&nbsp;and</font><br />
<font color="#ffffff">&nbsp;</font><font color="#3f7f5f">*&nbsp;notices.</font><br />
<font color="#ffffff">&nbsp;</font><font color="#3f7f5f">*/</font><br />
<font color="#ffffff"></font><br />
<font color="#404040"><b>import&nbsp;</b></font><font color="#000000">java.io.BufferedWriter;</font><br />
<font color="#404040"><b>import&nbsp;</b></font><font color="#000000">java.io.File;</font><br />
<font color="#404040"><b>import&nbsp;</b></font><font color="#000000">java.io.IOException;</font><br />
<font color="#404040"><b>import&nbsp;</b></font><font color="#000000">java.nio.file.Files;</font><br />
<font color="#404040"><b>import&nbsp;</b></font><font color="#000000">java.nio.file.Path;</font><br />
<font color="#404040"><b>import&nbsp;</b></font><font color="#000000">java.nio.file.Paths;</font><br />
<font color="#ffffff"></font><br />
<font color="#404040"><b>import&nbsp;</b></font><font color="#000000">org.apache.commons.lang3.StringUtils;</font><br />
<font color="#ffffff"></font><br />
<font color="#404040"><b>public&nbsp;class&nbsp;</b></font><font color="#000000">SnippetWriterHelper&nbsp;</font><font color="#000000">{</font><br />
<font color="#ffffff">&nbsp;&nbsp;</font><font color="#404040"><b>public&nbsp;static&nbsp;</b></font><font color="#7f0055"><b>void&nbsp;</b></font><font color="#000000">write</font><font color="#000000">(</font><font color="#000000">String&nbsp;file,&nbsp;String&nbsp;contents</font><font color="#000000">)&nbsp;</font><font color="#404040"><b>throws&nbsp;</b></font><font color="#000000">IOException&nbsp;</font><font color="#000000">{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">Path&nbsp;path&nbsp;=&nbsp;Paths.get</font><font color="#000000">(</font><font color="#000000">file</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>try&nbsp;</b></font><font color="#000000">(</font><font color="#000000">BufferedWriter&nbsp;writer&nbsp;=&nbsp;Files.newBufferedWriter</font><font color="#000000">(</font><font color="#000000">path</font><font color="#000000">))&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">writer.write</font><font color="#000000">(</font><font color="#000000">contents</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>catch&nbsp;</b></font><font color="#000000">(</font><font color="#000000">IOException&nbsp;exc</font><font color="#000000">)&nbsp;{}</font><br />
<font color="#ffffff">&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff"></font><br />
<font color="#ffffff">&nbsp;&nbsp;</font><font color="#404040"><b>public&nbsp;static&nbsp;</b></font><font color="#7f0055"><b>void&nbsp;</b></font><font color="#000000">compareSnippets</font><font color="#000000">(</font><font color="#000000">String&nbsp;s1,&nbsp;String&nbsp;s2,&nbsp;String&nbsp;fileName</font><font color="#000000">)&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">String&nbsp;s3&nbsp;=&nbsp;s1.trim</font><font color="#000000">()</font><font color="#000000">.replaceAll</font><font color="#000000">(</font><font color="#2a00ff">&#34;\\s+&#34;</font><font color="#000000">,</font><font color="#2a00ff">&#34;&nbsp;&#34;</font><font color="#000000">)</font><font color="#000000">.replaceAll</font><font color="#000000">(</font><font color="#2a00ff">&#34;https?://localhost:900[12]|curl900[12]&#34;</font><font color="#000000">,&nbsp;</font><font color="#2a00ff">&#34;curl900x&#34;</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">String&nbsp;s4&nbsp;=&nbsp;s2.trim</font><font color="#000000">()</font><font color="#000000">.replaceAll</font><font color="#000000">(</font><font color="#2a00ff">&#34;\\s+&#34;</font><font color="#000000">,</font><font color="#2a00ff">&#34;&nbsp;&#34;</font><font color="#000000">)</font><font color="#000000">.replaceAll</font><font color="#000000">(</font><font color="#2a00ff">&#34;https?://localhost:900[12]|curl900[12]&#34;</font><font color="#000000">,&nbsp;</font><font color="#2a00ff">&#34;curl900x&#34;</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">s3&nbsp;=&nbsp;s3.replaceAll</font><font color="#000000">(</font><font color="#2a00ff">&#34;#Hybris123File&#34;</font><font color="#000000">,&nbsp;</font><font color="#2a00ff">&#34;&#34;</font><font color="#000000">)</font><font color="#000000">.trim</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">s4&nbsp;=&nbsp;s4.replaceAll</font><font color="#000000">(</font><font color="#2a00ff">&#34;#Hybris123File&#34;</font><font color="#000000">,&nbsp;</font><font color="#2a00ff">&#34;&#34;</font><font color="#000000">)</font><font color="#000000">.trim</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">s3&nbsp;=&nbsp;s3.replaceAll</font><font color="#000000">(</font><font color="#2a00ff">&#34;#&nbsp;Hybris123File&#34;</font><font color="#000000">,&nbsp;</font><font color="#2a00ff">&#34;&#34;</font><font color="#000000">)</font><font color="#000000">.trim</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">s4&nbsp;=&nbsp;s4.replaceAll</font><font color="#000000">(</font><font color="#2a00ff">&#34;#&nbsp;Hybris123File&#34;</font><font color="#000000">,&nbsp;</font><font color="#2a00ff">&#34;&#34;</font><font color="#000000">)</font><font color="#000000">.trim</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">s3&nbsp;=&nbsp;s3.replaceAll</font><font color="#000000">(</font><font color="#2a00ff">&#34;&lt;!--&nbsp;Hybris123File&nbsp;--&gt;&#34;</font><font color="#000000">,&nbsp;</font><font color="#2a00ff">&#34;&#34;</font><font color="#000000">)</font><font color="#000000">.trim</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">s4&nbsp;=&nbsp;s4.replaceAll</font><font color="#000000">(</font><font color="#2a00ff">&#34;&lt;!--&nbsp;Hybris123File&nbsp;--&gt;&#34;</font><font color="#000000">,&nbsp;</font><font color="#2a00ff">&#34;&#34;</font><font color="#000000">)</font><font color="#000000">.trim</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">s3&nbsp;=&nbsp;s3.replaceAll</font><font color="#000000">(</font><font color="#2a00ff">&#34;&lt;!--&nbsp;Hybris123File&nbsp;--&gt;&#34;</font><font color="#000000">,&nbsp;</font><font color="#2a00ff">&#34;&#34;</font><font color="#000000">)</font><font color="#000000">.trim</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">s4&nbsp;=&nbsp;s4.replaceAll</font><font color="#000000">(</font><font color="#2a00ff">&#34;&lt;!--&nbsp;Hybris123File&nbsp;--&gt;&#34;</font><font color="#000000">,&nbsp;</font><font color="#2a00ff">&#34;&#34;</font><font color="#000000">)</font><font color="#000000">.trim</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">String&nbsp;s5&nbsp;=&nbsp;s3.replaceAll</font><font color="#000000">(</font><font color="#2a00ff">&#34;&nbsp;&#34;</font><font color="#000000">,&nbsp;</font><font color="#2a00ff">&#34;&#34;</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">String&nbsp;s6&nbsp;=&nbsp;s4.replaceAll</font><font color="#000000">(</font><font color="#2a00ff">&#34;&nbsp;&#34;</font><font color="#000000">,&nbsp;</font><font color="#2a00ff">&#34;&#34;</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>if&nbsp;</b></font><font color="#000000">(</font><font color="#000000">s5.compareTo</font><font color="#000000">(</font><font color="#000000">s6</font><font color="#000000">)&nbsp;</font><font color="#000000">!=&nbsp;</font><font color="#990000">0</font><font color="#000000">)&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>int</b></font><font color="#000000">[]&nbsp;</font><font color="#000000">res&nbsp;=&nbsp;differenceString</font><font color="#000000">(</font><font color="#000000">s3,&nbsp;s4</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">String&nbsp;diff1&nbsp;=&nbsp;underscoreString</font><font color="#000000">(</font><font color="#000000">res</font><font color="#000000">[</font><font color="#990000">0</font><font color="#000000">]</font><font color="#000000">,res</font><font color="#000000">[</font><font color="#990000">1</font><font color="#000000">])</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">String&nbsp;diff2&nbsp;=&nbsp;underscoreString</font><font color="#000000">(</font><font color="#000000">res</font><font color="#000000">[</font><font color="#990000">2</font><font color="#000000">]</font><font color="#000000">,res</font><font color="#000000">[</font><font color="#990000">3</font><font color="#000000">])</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">String&nbsp;ln&nbsp;=&nbsp;System.lineSeparator</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">System.out.println</font><font color="#000000">(</font><font color="#2a00ff">&#34;Difference&nbsp;detected&nbsp;in&nbsp;&#34;&nbsp;</font><font color="#000000">+&nbsp;fileName&nbsp;+&nbsp;</font><font color="#2a00ff">&#34;:&nbsp;refer&nbsp;to&nbsp;'target/differences'&nbsp;for&nbsp;detail&#34;</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">String&nbsp;diffContent&nbsp;=&nbsp;</font><font color="#2a00ff">&#34;Difference&nbsp;detected&nbsp;in&nbsp;&#34;&nbsp;</font><font color="#000000">+&nbsp;fileName&nbsp;+&nbsp;ln&nbsp;+&nbsp;s3&nbsp;+&nbsp;</font><font color="#2a00ff">&#34;---&#34;&nbsp;</font><font color="#000000">+&nbsp;ln&nbsp;+&nbsp;diff1&nbsp;+&nbsp;ln&nbsp;+&nbsp;s4&nbsp;+&nbsp;ln&nbsp;+&nbsp;diff2&nbsp;+&nbsp;ln;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">//&nbsp;output&nbsp;differences&nbsp;to&nbsp;a&nbsp;file</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>try&nbsp;</b></font><font color="#000000">{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>final&nbsp;</b></font><font color="#000000">String&nbsp;diffFolder&nbsp;=&nbsp;</font><font color="#2a00ff">&#34;target/differences/&#34;</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>final&nbsp;</b></font><font color="#000000">String&nbsp;diffFile&nbsp;=&nbsp;diffFolder&nbsp;+&nbsp;fileName;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>new&nbsp;</b></font><font color="#000000">File</font><font color="#000000">(</font><font color="#000000">diffFile</font><font color="#000000">)</font><font color="#000000">.createNewFile</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">write</font><font color="#000000">(</font><font color="#000000">diffFile,&nbsp;diffContent</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>catch&nbsp;</b></font><font color="#000000">(</font><font color="#000000">IOException&nbsp;exc</font><font color="#000000">)&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">System.err.println</font><font color="#000000">(</font><font color="#000000">exc.getMessage</font><font color="#000000">())</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;</font><font color="#3f7f5f">/*&nbsp;TODO:&nbsp;replace&nbsp;with&nbsp;direct&nbsp;method&nbsp;and&nbsp;debug&nbsp;(currently&nbsp;incorrect)&nbsp;*/</font><br />
<font color="#ffffff">&nbsp;&nbsp;</font><font color="#404040"><b>private&nbsp;static&nbsp;</b></font><font color="#7f0055"><b>int</b></font><font color="#000000">[]&nbsp;</font><font color="#000000">differenceString</font><font color="#000000">(</font><font color="#000000">String&nbsp;s1,&nbsp;String&nbsp;s2</font><font color="#000000">)&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>int</b></font><font color="#000000">[]&nbsp;</font><font color="#000000">res&nbsp;=&nbsp;</font><font color="#404040"><b>new&nbsp;</b></font><font color="#7f0055"><b>int</b></font><font color="#000000">[]&nbsp;{</font><font color="#990000">0</font><font color="#000000">,</font><font color="#990000">0</font><font color="#000000">,</font><font color="#990000">0</font><font color="#000000">,</font><font color="#990000">0</font><font color="#000000">}</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">//&nbsp;i1/i2&nbsp;=&nbsp;index&nbsp;of&nbsp;first&nbsp;difference&nbsp;in&nbsp;string&nbsp;1/2</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">//&nbsp;j1/j2&nbsp;=&nbsp;index&nbsp;of&nbsp;last&nbsp;&nbsp;difference&nbsp;in&nbsp;string&nbsp;1/2</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>int&nbsp;</b></font><font color="#000000">i1,&nbsp;i2,&nbsp;j1,&nbsp;j2;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>for&nbsp;</b></font><font color="#000000">(</font><font color="#000000">i1&nbsp;=&nbsp;</font><font color="#990000">0</font><font color="#000000">,&nbsp;i2&nbsp;=&nbsp;</font><font color="#990000">0</font><font color="#000000">;&nbsp;i1&nbsp;&lt;&nbsp;s1.length</font><font color="#000000">()&nbsp;</font><font color="#000000">&amp;&amp;&nbsp;i2&nbsp;&lt;&nbsp;s2.length</font><font color="#000000">()</font><font color="#000000">;&nbsp;i1++,&nbsp;i2++</font><font color="#000000">)&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>if&nbsp;</b></font><font color="#000000">(</font><font color="#000000">s1.charAt</font><font color="#000000">(</font><font color="#000000">i1</font><font color="#000000">)&nbsp;</font><font color="#000000">!=&nbsp;s2.charAt</font><font color="#000000">(</font><font color="#000000">i2</font><font color="#000000">))&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>if&nbsp;</b></font><font color="#000000">(</font><font color="#000000">s1.charAt</font><font color="#000000">(</font><font color="#000000">i1</font><font color="#000000">)&nbsp;</font><font color="#000000">==&nbsp;</font><font color="#990000">'&nbsp;'</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">i1++;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>else&nbsp;if&nbsp;</b></font><font color="#000000">(</font><font color="#000000">s2.charAt</font><font color="#000000">(</font><font color="#000000">i2</font><font color="#000000">)&nbsp;</font><font color="#000000">==&nbsp;</font><font color="#990000">'&nbsp;'</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">i2++;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>else</b></font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>break</b></font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">res</font><font color="#000000">[</font><font color="#990000">0</font><font color="#000000">]&nbsp;</font><font color="#000000">=&nbsp;i1;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">res</font><font color="#000000">[</font><font color="#990000">2</font><font color="#000000">]&nbsp;</font><font color="#000000">=&nbsp;i2;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">/*int[]&nbsp;firstDiff&nbsp;=&nbsp;findFirstDifference(s1,&nbsp;s2);</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">res[0]&nbsp;=&nbsp;firstDiff[0];</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">res[2]&nbsp;=&nbsp;firstDiff[1];</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">String&nbsp;s1BeginDiffReversed&nbsp;=&nbsp;StringUtils.reverse(s1.substring(res[0],&nbsp;s1.length()));</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">String&nbsp;s2BeginDiffReversed&nbsp;=&nbsp;StringUtils.reverse(s2.substring(res[2],&nbsp;s2.length()));</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">int[]&nbsp;lastDiff&nbsp;=&nbsp;findFirstDifference(s1BeginDiffReversed,&nbsp;s2BeginDiffReversed);</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">res[1]&nbsp;=&nbsp;s1.length()&nbsp;-&nbsp;lastDiff[0]&nbsp;-&nbsp;1;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">res[3]&nbsp;=&nbsp;s2.length()&nbsp;-&nbsp;lastDiff[1]&nbsp;-&nbsp;1;*/</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>for&nbsp;</b></font><font color="#000000">(</font><font color="#000000">j1&nbsp;=&nbsp;s1.length</font><font color="#000000">()&nbsp;</font><font color="#000000">-&nbsp;</font><font color="#990000">1</font><font color="#000000">,&nbsp;j2&nbsp;=&nbsp;s2.length</font><font color="#000000">()&nbsp;</font><font color="#000000">-&nbsp;</font><font color="#990000">1</font><font color="#000000">;&nbsp;j1&nbsp;&gt;&nbsp;res</font><font color="#000000">[</font><font color="#990000">0</font><font color="#000000">]&nbsp;</font><font color="#000000">&amp;&amp;&nbsp;j2&nbsp;&gt;&nbsp;res</font><font color="#000000">[</font><font color="#990000">2</font><font color="#000000">]</font><font color="#000000">;&nbsp;j1--,&nbsp;j2--</font><font color="#000000">)&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>if&nbsp;</b></font><font color="#000000">(</font><font color="#000000">s1.charAt</font><font color="#000000">(</font><font color="#000000">j1</font><font color="#000000">)&nbsp;</font><font color="#000000">!=&nbsp;s2.charAt</font><font color="#000000">(</font><font color="#000000">j2</font><font color="#000000">))&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>if&nbsp;</b></font><font color="#000000">(</font><font color="#000000">s1.charAt</font><font color="#000000">(</font><font color="#000000">j1</font><font color="#000000">)&nbsp;</font><font color="#000000">==&nbsp;</font><font color="#990000">'&nbsp;'</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">j1--;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>else&nbsp;if&nbsp;</b></font><font color="#000000">(</font><font color="#000000">s2.charAt</font><font color="#000000">(</font><font color="#000000">j2</font><font color="#000000">)&nbsp;</font><font color="#000000">==&nbsp;</font><font color="#990000">'&nbsp;'</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">j2--;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>else</b></font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>break</b></font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">res</font><font color="#000000">[</font><font color="#990000">1</font><font color="#000000">]&nbsp;</font><font color="#000000">=&nbsp;j1;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">res</font><font color="#000000">[</font><font color="#990000">3</font><font color="#000000">]&nbsp;</font><font color="#000000">=&nbsp;j2;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>return&nbsp;</b></font><font color="#000000">res;</font><br />
<font color="#ffffff">&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;</font><font color="#3f5fbf">/**</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#3f5fbf">*&nbsp;Finds&nbsp;the&nbsp;first&nbsp;differing&nbsp;character&nbsp;in&nbsp;two&nbsp;strings,&nbsp;whitespace&nbsp;excluded</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;</font><font color="#3f5fbf">*/</font><br />
<font color="#ffffff">&nbsp;&nbsp;</font><font color="#404040"><b>private&nbsp;static&nbsp;</b></font><font color="#7f0055"><b>int</b></font><font color="#000000">[]&nbsp;</font><font color="#000000">findFirstDifference</font><font color="#000000">(</font><font color="#000000">String&nbsp;s1,&nbsp;String&nbsp;s2</font><font color="#000000">)&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>for&nbsp;</b></font><font color="#000000">(</font><font color="#7f0055"><b>int&nbsp;</b></font><font color="#000000">i1&nbsp;=&nbsp;</font><font color="#990000">0</font><font color="#000000">,&nbsp;i2&nbsp;=&nbsp;</font><font color="#990000">0</font><font color="#000000">;&nbsp;i1&nbsp;&lt;&nbsp;s1.length</font><font color="#000000">()&nbsp;</font><font color="#000000">&amp;&amp;&nbsp;i2&nbsp;&lt;&nbsp;s2.length</font><font color="#000000">()</font><font color="#000000">;&nbsp;i1++,&nbsp;i2++</font><font color="#000000">)&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>if&nbsp;</b></font><font color="#000000">(</font><font color="#000000">s1.charAt</font><font color="#000000">(</font><font color="#000000">i1</font><font color="#000000">)&nbsp;</font><font color="#000000">!=&nbsp;s2.charAt</font><font color="#000000">(</font><font color="#000000">i2</font><font color="#000000">))&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>if&nbsp;</b></font><font color="#000000">(</font><font color="#000000">s1.charAt</font><font color="#000000">(</font><font color="#000000">i1</font><font color="#000000">)&nbsp;</font><font color="#000000">==&nbsp;</font><font color="#990000">'&nbsp;'</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">i1++;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>else&nbsp;if&nbsp;</b></font><font color="#000000">(</font><font color="#000000">s2.charAt</font><font color="#000000">(</font><font color="#000000">i2</font><font color="#000000">)&nbsp;</font><font color="#000000">==&nbsp;</font><font color="#990000">'&nbsp;'</font><font color="#000000">)</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">i2++;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>else</b></font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>return&nbsp;new&nbsp;</b></font><font color="#7f0055"><b>int</b></font><font color="#000000">[]{</font><font color="#000000">i1,&nbsp;i2</font><font color="#000000">}</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>throw&nbsp;new&nbsp;</b></font><font color="#000000">IllegalArgumentException</font><font color="#000000">(</font><font color="#2a00ff">&#34;The&nbsp;two&nbsp;strings&nbsp;are&nbsp;equal&nbsp;(except&nbsp;for&nbsp;whitespace&nbsp;characters).&#34;</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;</font><font color="#404040"><b>private&nbsp;static&nbsp;</b></font><font color="#000000">String&nbsp;underscoreString</font><font color="#000000">(</font><font color="#7f0055"><b>int&nbsp;</b></font><font color="#000000">start,&nbsp;</font><font color="#7f0055"><b>int&nbsp;</b></font><font color="#000000">end</font><font color="#000000">)&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">StringBuilder&nbsp;out&nbsp;=&nbsp;</font><font color="#404040"><b>new&nbsp;</b></font><font color="#000000">StringBuilder</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>for&nbsp;</b></font><font color="#000000">(</font><font color="#7f0055"><b>int&nbsp;</b></font><font color="#000000">i&nbsp;=&nbsp;</font><font color="#990000">0</font><font color="#000000">;&nbsp;i&nbsp;&lt;&nbsp;start;&nbsp;i++</font><font color="#000000">)&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">out&nbsp;=&nbsp;out.append</font><font color="#000000">(</font><font color="#2a00ff">&#34;&nbsp;&#34;</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>for&nbsp;</b></font><font color="#000000">(</font><font color="#7f0055"><b>int&nbsp;</b></font><font color="#000000">i&nbsp;=&nbsp;start;&nbsp;i&nbsp;&lt;=&nbsp;end;&nbsp;i++</font><font color="#000000">)&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">out&nbsp;=&nbsp;out.append</font><font color="#000000">(</font><font color="#2a00ff">&#34;^&#34;</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>return&nbsp;</b></font><font color="#000000">out.toString</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;</font><font color="#404040"><b>public&nbsp;static&nbsp;</b></font><font color="#7f0055"><b>void&nbsp;</b></font><font color="#000000">deleteFilesRecursive</font><font color="#000000">(</font><font color="#000000">File&nbsp;myFile</font><font color="#000000">)&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>if&nbsp;</b></font><font color="#000000">(</font><font color="#000000">myFile.isDirectory</font><font color="#000000">())&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">//&nbsp;Returns&nbsp;an&nbsp;array&nbsp;of&nbsp;strings&nbsp;naming&nbsp;the&nbsp;files&nbsp;and&nbsp;directories&nbsp;in&nbsp;the&nbsp;directory&nbsp;denoted&nbsp;by&nbsp;this&nbsp;abstract</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">//&nbsp;pathname.</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">String</font><font color="#000000">[]&nbsp;</font><font color="#000000">crunchifyFiles&nbsp;=&nbsp;myFile.list</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#404040"><b>for&nbsp;</b></font><font color="#000000">(</font><font color="#000000">String&nbsp;file&nbsp;:&nbsp;crunchifyFiles</font><font color="#000000">)&nbsp;{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">//&nbsp;Creates&nbsp;a&nbsp;new&nbsp;File&nbsp;instance&nbsp;from&nbsp;a&nbsp;parent&nbsp;abstract&nbsp;pathname&nbsp;and&nbsp;a&nbsp;child&nbsp;pathname&nbsp;string.</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">File&nbsp;fileDelete&nbsp;=&nbsp;</font><font color="#404040"><b>new&nbsp;</b></font><font color="#000000">File</font><font color="#000000">(</font><font color="#000000">myFile,&nbsp;file</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">deleteFilesRecursive</font><font color="#000000">(</font><font color="#000000">fileDelete</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}&nbsp;</font><font color="#404040"><b>else&nbsp;</b></font><font color="#000000">{</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">//&nbsp;Deletes&nbsp;the&nbsp;file&nbsp;or&nbsp;directory&nbsp;denoted&nbsp;by&nbsp;this&nbsp;abstract&nbsp;pathname.&nbsp;If&nbsp;this&nbsp;pathname&nbsp;denotes&nbsp;a&nbsp;directory,</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">//&nbsp;then&nbsp;the&nbsp;directory&nbsp;must&nbsp;be&nbsp;empty&nbsp;in&nbsp;order&nbsp;to&nbsp;be&nbsp;deleted.</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">myFile.delete</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#ffffff">&nbsp;&nbsp;</font><font color="#000000">}</font><br />
<font color="#000000">}</font></code><span class="codenote">Source: SnippetWriterHelper.java</span></span>